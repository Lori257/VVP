
#include <iostream>
#include <Math.h>
#include <windows.h>
#include <string>

using namespace std;

int main()
{
	setlocale(LC_ALL, "Russian");
	SetConsoleOutputCP(1251);
	SetConsoleCP(1251);
	int i, b;	
	string s;
	s = "";
	cout << "Введите строку S: ";
	getline(cin, s);
	cout << "Имя каталога, содержающего файл: ";
	b = 0;
	for (i = 0; i < s.length(); i++)
	{
		if (s[i] == 92) {
			b=b+1;
		}
	}
	if (b == 1) {
		for (i = s.find_first_of(92) + 1; i < s.find_last_of('.'); i++) {
			cout << s[i];
		}
	}
	else {
		for (i = s.find_last_of(92, s.find_last_of(92) - 1) + 1; i < s.find_last_of(92); i++)
		{
			cout << s[i];
		}
	}
	cout << endl;
}
